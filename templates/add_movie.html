{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_form %}
{% block title %}Add Movie{% endblock %}

{% block content %}
<body class="add-page">
  <div class="container py-5">
    <h1 class="display-4 text-center text-warning text-opacity-75 my-5">Search for a Movie</h1>
    
    <div class="add-page-search row justify-content-center">
      <div class="col-md-8">
        {{ render_form(form) }}
      </div>
    </div>

    <!-- Movie display after Search -->
    <div class="row justify-content-center row-cols-md-3 row-cols-sm-2 g-4 mt-5">
      {% if searched %}
        {% if movies %}
          {% for movie in movies %}
            <div class="col">
              <div class="h-100">
                <div class="card-body rounded-4 text-center d-flex flex-column justify-content-between" 
                     style="background-image: url('{{ movie.img_url }}');">
                  
                  <h5 class="card-title text-warning text-opacity-75 fs-3 mt-5">{{ movie.title }}</h5>
                  <p class="card-text text-white-50">{{ movie.release_date }}</p>
                  <a href="{{ url_for('find_movie', id=movie.id) }}" class="btn btn-outline-light mt-auto mb-3">Select</a>
                </div>
              </div>
            </div>
          {% endfor %}
          {% else %}
      
            <div class="col-12">
              <p class="no-result text-center fs-5">No results found. Please try searching with a different title.</p>
            </div>
      
          {% endif %}
        {% endif %}
        
    </div>
  
    {% block footer %}{% endblock %}
  </div>
</body>


{% endblock %}